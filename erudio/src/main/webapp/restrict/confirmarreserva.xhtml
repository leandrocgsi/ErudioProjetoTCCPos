<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:p="http://primefaces.org/ui"
                template="./../resources/main.xhtml">

    <ui:define name="tarefas">
        <p:fieldset legend="Reservas">

            <br/>

            <p:tabView dynamic="true" cache="true"> 
                <p:tab title="Reservas"> 
                    <h:form prependId="false">

                        <p:growl id="msg" />

                        <h:outputLabel for="idPessoaOperador" value="" />
                        <h:inputHidden id="idPessoaOperador"/>

                        <h:panelGrid columns="2" cellpadding="10" styleClass="panelGrid" id="grid">

                            <h:outputLabel for="idTipoEmprestimo" value="Tipo de Empréstimo .:"/>
                            <p:selectOneMenu id="idTipoEmprestimo" value="#{mbEmprestimo.emprestimo.tipoEmprestimo.idTipoEmprestimo}">
                                <f:selectItems value="#{bbTipoEmprestimo.tipoEmprestimos}" var="tipoEmprestimo" itemValue="#{tipoEmprestimo.idTipoEmprestimo}" itemLabel="#{tipoEmprestimo.descricao}"/>
                            </p:selectOneMenu>

                            <h:outputLabel for="idPessoaAluno" value="Codigo do Usuário .:" />
                            <p:inputText id="idPessoaAluno" value="#{mbEmprestimo.emprestimo.usuario.idPessoa}" size="40" required="true" requiredMessage="É obrigatório a seleção do [Codigo do Usuário]." />


                            <h:outputLabel for="idExemplar" value="Codigo do Ítem .:"/>
                            <p:inputText id="idExemplar" value="#{mbEmprestimo.emprestimo.exemplar.idExemplar}" size="40" required="true" requiredMessage="É obrigatório a seleção do [Codigo da Obra]."/>

                        </h:panelGrid> 

                        <h:panelGrid  columns="2" styleClass="panelGrid" id="grid2">
                            <p:panel>
                                <p:commandButton value="Confirmar" action="#{mbEmprestimo.fazEmprestimo()}"  image="ui-icon ui-icon-disk" update="grid" ajax="false" />                                
                            </p:panel>
                        </h:panelGrid>
                    </h:form>
                </p:tab>

                <!--<p:commandButton value="Imprimir" image="ui-icon-print" update="grid"/>-->

            </p:tabView>  
        </p:fieldset>

    </ui:define>

</ui:composition>